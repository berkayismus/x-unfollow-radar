<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>X Unfollow Radar</title>
    <link rel="stylesheet" href="popup.css">
    <link rel="stylesheet" href="../../vendor/chartist.min.css">
</head>

<body>
    <div class="container" role="main">
        <!-- Header with Dark Mode Toggle -->
        <header class="header">
            <div class="header-content">
                <h1>ğŸ”´ <span data-i18n="app.title">X Unfollow Radar</span></h1>
                <div class="header-buttons">
                    <button id="langToggle" class="lang-toggle" type="button" role="button" aria-label="Change language"
                        data-i18n-aria="aria.languageToggle" title="Change Language">TR</button>
                    <button id="themeToggle" class="theme-toggle" type="button" role="button" aria-label="Toggle theme"
                        aria-pressed="false" data-i18n-aria="aria.themeToggle" title="Dark Mode">ğŸŒ™</button>
                </div>
            </div>
            <p class="subtitle" data-i18n="app.subtitle">Seni takip etmeyenleri otomatik bul ve takipten Ã§Ä±k</p>
        </header>

        <!-- Tabs -->
        <div class="tabs" role="tablist" aria-label="Extension sections">
            <button class="tab-btn active" data-tab="main" data-i18n="tabs.main" role="tab" id="tab-main"
                aria-selected="true" aria-controls="main-tab" tabindex="0">Ana</button>
            <button class="tab-btn" data-tab="filters" data-i18n="tabs.filters" role="tab" id="tab-filters"
                aria-selected="false" aria-controls="filters-tab" tabindex="-1">Filtreler</button>
            <button class="tab-btn" data-tab="stats" data-i18n="tabs.stats" role="tab" id="tab-stats"
                aria-selected="false" aria-controls="stats-tab" tabindex="-1">Ä°statistikler</button>
        </div>

        <!-- Main Tab -->
        <div class="tab-content active" id="main-tab" role="tabpanel" aria-labelledby="tab-main" tabindex="0">
            <!-- Stats Cards -->
            <div class="stats" role="region" aria-label="Statistics">
                <div class="stat-item">
                    <span class="stat-label" data-i18n="stats.dailyLimit">24 Saatlik Limit</span>
                    <span class="stat-value" id="sessionCount" aria-live="polite">0/100</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label" data-i18n="stats.totalUnfollowed">Toplam Ã‡Ä±karÄ±lan</span>
                    <span class="stat-value" id="totalCount" aria-live="polite">0</span>
                </div>
            </div>

            <!-- Status Bar -->
            <div class="status-bar" role="status" aria-live="polite">
                <span class="status-indicator" id="statusIndicator" aria-hidden="true">â—</span>
                <span id="statusText" data-i18n="status.ready">HazÄ±r</span>
            </div>

            <!-- Alerts -->
            <div id="testModeAlert" class="alert alert-warning" style="display: none;" role="alert"
                aria-live="assertive">
                <p><strong>âš ï¸ <span data-i18n="alerts.batchComplete">Batch TamamlandÄ±</span></strong></p>
                <p data-i18n="alerts.batchCompleteDesc">50 kiÅŸi takipten Ã§Ä±karÄ±ldÄ±. Devam etmek istiyor musunuz?</p>
                <button id="continueBtn" class="btn btn-success" type="button" data-i18n-aria="aria.continueButton">âœ“
                    <span data-i18n="buttons.continue">Devam Et (50 kiÅŸi
                        daha)</span></button>
            </div>

            <div id="rateLimitAlert" class="alert alert-danger" style="display: none;" role="alert"
                aria-live="assertive">
                <p><strong>ğŸš« <span data-i18n="alerts.rateLimit">Rate Limit!</span></strong></p>
                <p id="rateLimitText" data-i18n="alerts.rateLimitDesc">Twitter tarafÄ±ndan hÄ±z sÄ±nÄ±rÄ±na takÄ±ldÄ±nÄ±z.</p>
                <p id="rateLimitCountdown" style="font-weight: bold;" aria-live="polite">--</p>
            </div>

            <div id="limitReachedAlert" class="alert alert-info" style="display: none;" role="alert"
                aria-live="assertive">
                <p><strong>âœ‹ <span data-i18n="alerts.dailyLimitReached">24 Saatlik Limit Doldu</span></strong></p>
                <p data-i18n="alerts.dailyLimitDesc">Son 24 saatte 100 kiÅŸiden takipten Ã§Ä±ktÄ±nÄ±z. Yeni oturum iÃ§in 24
                    saat beklemeniz gerekiyor.</p>
            </div>

            <!-- Controls -->
            <div class="control-row">
                <label class="checkbox-container">
                    <input type="checkbox" id="dryRunMode" aria-describedby="dryrun-desc">
                    <span data-i18n="controls.dryRunMode">Dry Run Mode (Test)</span>
                </label>
                <span id="dryrun-desc" class="sr-only">When enabled, simulates unfollowing without making changes</span>
            </div>

            <div class="controls" role="group" aria-label="Main controls">
                <button id="startBtn" class="btn btn-primary" type="button" data-i18n-aria="aria.startButton">â–¶ <span
                        data-i18n="buttons.start">BaÅŸlat</span></button>
                <button id="stopBtn" class="btn btn-danger" style="display: none;" type="button"
                    data-i18n-aria="aria.stopButton">â–  <span data-i18n="buttons.stop">Durdur</span></button>
            </div>

            <div class="control-row" role="group" aria-label="Secondary controls">
                <button id="undoBtn" class="btn btn-secondary" style="display: none;" type="button"
                    data-i18n-aria="aria.undoButton">â†¶ <span data-i18n="buttons.undo">Geri Al</span> (<span
                        id="undoCount" aria-hidden="true">0</span>)</button>
                <button id="resetBtn" class="btn btn-secondary" type="button" data-i18n-aria="aria.resetButton">ğŸ”„ <span
                        data-i18n="buttons.reset">SÄ±fÄ±rla</span></button>
            </div>

            <!-- Real-time User List -->
            <div class="user-list-container" aria-labelledby="userListTitle">
                <h3 id="userListTitle" data-i18n="userList.title">Ä°ÅŸlenen KullanÄ±cÄ±lar</h3>
                <ul class="user-list" id="userList" role="list" aria-live="polite" aria-label="Processed users"></ul>
            </div>

            <div class="info">
                <p class="last-run"><span data-i18n="info.lastRun">Son Ã§alÄ±ÅŸtÄ±rma</span>: <span id="lastRun">-</span>
                </p>
            </div>
        </div>

        <!-- Filters Tab -->
        <div class="tab-content" id="filters-tab" role="tabpanel" aria-labelledby="filtersTabBtn" hidden>
            <!-- Keywords Section -->
            <section class="filter-section" aria-labelledby="keywordsTitle">
                <h3 id="keywordsTitle">ğŸ” <span data-i18n="filters.keywordsTitle">Anahtar Kelimeler</span></h3>
                <p class="filter-desc" data-i18n="filters.keywordsDesc">Bu kelimeleri iÃ§eren kullanÄ±cÄ±lar atlanacak</p>
                <div class="input-group" role="group" aria-label="Add keyword">
                    <input type="text" id="keywordInput" data-i18n-placeholder="filters.keywordsPlaceholder"
                        data-i18n-aria="aria.keywordInput" placeholder="Ã–rn: crypto, nft, bot">
                    <button id="addKeywordBtn" class="btn btn-primary" type="button"
                        data-i18n="buttons.add">Ekle</button>
                </div>
                <ul class="filter-list" id="keywordList" role="list" aria-label="Keyword filter list"></ul>
            </section>

            <!-- Whitelist Section -->
            <section class="filter-section" aria-labelledby="whitelistTitle">
                <h3 id="whitelistTitle">â­ <span data-i18n="filters.whitelistTitle">Whitelist</span></h3>
                <p class="filter-desc" data-i18n="filters.whitelistDesc">Bu kullanÄ±cÄ±lar asla takipten Ã§Ä±karÄ±lmayacak
                </p>
                <div class="input-group" role="group" aria-label="Add to whitelist">
                    <input type="text" id="whitelistInput" data-i18n-placeholder="filters.whitelistPlaceholder"
                        data-i18n-aria="aria.whitelistInput" placeholder="@kullaniciadi">
                    <button id="addWhitelistBtn" class="btn btn-primary" type="button"
                        data-i18n="buttons.add">Ekle</button>
                </div>
                <ul class="filter-list" id="whitelistList" role="list" aria-label="Whitelist"></ul>
            </section>
        </div>

        <!-- Stats Tab -->
        <div class="tab-content" id="stats-tab" role="tabpanel" aria-labelledby="statsTabBtn" hidden>
            <section class="stats-section" aria-labelledby="statsTitle">
                <h3 id="statsTitle">ğŸ“Š <span data-i18n="statsTab.last30Days">Son 30 GÃ¼n</span></h3>
                <div class="ct-chart" id="chart" role="img" aria-label="Unfollow statistics chart for last 30 days">
                </div>
                <button id="exportCsvBtn" class="btn btn-primary" type="button" data-i18n-aria="aria.exportCsvButton">ğŸ“¥
                    <span data-i18n="buttons.exportCsv">CSV
                        Ä°ndir</span></button>
            </section>
        </div>

        <!-- Footer Warning -->
        <aside class="warning" role="note" aria-labelledby="warningTitle">
            <p><strong id="warningTitle">âš ï¸ <span data-i18n="warning.title">UyarÄ±:</span></strong></p>
            <ul>
                <li data-i18n="warning.item1">Sadece "Following" sayfasÄ±nda Ã§alÄ±ÅŸÄ±r</li>
                <li data-i18n="warning.item2">2-5 saniye gecikme ile Ã§alÄ±ÅŸÄ±r</li>
                <li data-i18n="warning.item3">Ä°lk 50 kiÅŸide durup onay ister</li>
                <li data-i18n="warning.item4">24 saatte maksimum 100 kiÅŸi limiti</li>
                <li data-i18n="warning.item5">24 saat sonra limit otomatik sÄ±fÄ±rlanÄ±r</li>
            </ul>
        </aside>
    </div>

    <script src="../../vendor/chartist.min.js"></script>
    <script src="../shared/constants.js"></script>
    <script src="../shared/i18n.js"></script>
    <script src="popup.js"></script>
</body>

</html>