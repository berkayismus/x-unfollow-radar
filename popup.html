<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Twitter Auto Unfollow</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="lib/chartist.min.css">
</head>

<body>
    <div class="container">
        <!-- Header with Dark Mode Toggle -->
        <div class="header">
            <div class="header-content">
                <h1>ğŸ”´ <span data-i18n="app.title">Twitter Auto Unfollow</span></h1>
                <div class="header-buttons">
                    <button id="langToggle" class="lang-toggle" title="Change Language">TR</button>
                    <button id="themeToggle" class="theme-toggle" title="Dark Mode">ğŸŒ™</button>
                </div>
            </div>
            <p class="subtitle" data-i18n="app.subtitle">Seni takip etmeyenleri otomatik bul ve takipten Ã§Ä±k</p>
        </div>

        <!-- Tabs -->
        <div class="tabs">
            <button class="tab-btn active" data-tab="main" data-i18n="tabs.main">Ana</button>
            <button class="tab-btn" data-tab="filters" data-i18n="tabs.filters">Filtreler</button>
            <button class="tab-btn" data-tab="stats" data-i18n="tabs.stats">Ä°statistikler</button>
        </div>

        <!-- Main Tab -->
        <div class="tab-content active" id="main-tab">
            <!-- Stats Cards -->
            <div class="stats">
                <div class="stat-item">
                    <span class="stat-label" data-i18n="stats.dailyLimit">24 Saatlik Limit</span>
                    <span class="stat-value" id="sessionCount">0/100</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label" data-i18n="stats.totalUnfollowed">Toplam Ã‡Ä±karÄ±lan</span>
                    <span class="stat-value" id="totalCount">0</span>
                </div>
            </div>

            <!-- Status Bar -->
            <div class="status-bar">
                <span class="status-indicator" id="statusIndicator">â—</span>
                <span id="statusText" data-i18n="status.ready">HazÄ±r</span>
            </div>

            <!-- Detailed Progress -->
            <div class="progress-details" id="progressDetails" style="display: none;">
                <div class="progress-bar-container">
                    <div class="progress-bar" id="progressBar"></div>
                </div>
                <div class="progress-stats" id="progressStats">
                    0/100 (0%) â€¢ 0 users/min â€¢ --
                </div>
            </div>

            <!-- Alerts -->
            <div id="testModeAlert" class="alert alert-warning" style="display: none;">
                <p><strong>âš ï¸ <span data-i18n="alerts.batchComplete">Batch TamamlandÄ±</span></strong></p>
                <p data-i18n="alerts.batchCompleteDesc">50 kiÅŸi takipten Ã§Ä±karÄ±ldÄ±. Devam etmek istiyor musunuz?</p>
                <button id="continueBtn" class="btn btn-success">âœ“ <span data-i18n="buttons.continue">Devam Et (50 kiÅŸi daha)</span></button>
            </div>

            <div id="rateLimitAlert" class="alert alert-danger" style="display: none;">
                <p><strong>ğŸš« <span data-i18n="alerts.rateLimit">Rate Limit!</span></strong></p>
                <p id="rateLimitText" data-i18n="alerts.rateLimitDesc">Twitter tarafÄ±ndan hÄ±z sÄ±nÄ±rÄ±na takÄ±ldÄ±nÄ±z.</p>
                <p id="rateLimitCountdown" style="font-weight: bold;">--</p>
            </div>

            <div id="limitReachedAlert" class="alert alert-info" style="display: none;">
                <p><strong>âœ‹ <span data-i18n="alerts.dailyLimitReached">24 Saatlik Limit Doldu</span></strong></p>
                <p data-i18n="alerts.dailyLimitDesc">Son 24 saatte 100 kiÅŸiden takipten Ã§Ä±ktÄ±nÄ±z. Yeni oturum iÃ§in 24 saat beklemeniz gerekiyor.</p>
            </div>

            <!-- Controls -->
            <div class="control-row">
                <label class="checkbox-container">
                    <input type="checkbox" id="dryRunMode">
                    <span data-i18n="controls.dryRunMode">Dry Run Mode (Test)</span>
                </label>
            </div>

            <div class="controls">
                <button id="startBtn" class="btn btn-primary">â–¶ <span data-i18n="buttons.start">BaÅŸlat</span></button>
                <button id="stopBtn" class="btn btn-danger" style="display: none;">â–  <span data-i18n="buttons.stop">Durdur</span></button>
            </div>

            <div class="control-row">
                <button id="undoBtn" class="btn btn-secondary" style="display: none;">â†¶ <span data-i18n="buttons.undo">Geri Al</span> (<span id="undoCount">0</span>)</button>
                <button id="resetBtn" class="btn btn-secondary">ğŸ”„ <span data-i18n="buttons.reset">SÄ±fÄ±rla</span></button>
            </div>

            <!-- Real-time User List -->
            <div class="user-list-container">
                <h3 data-i18n="userList.title">Ä°ÅŸlenen KullanÄ±cÄ±lar</h3>
                <ul class="user-list" id="userList"></ul>
            </div>

            <div class="info">
                <p class="last-run"><span data-i18n="info.lastRun">Son Ã§alÄ±ÅŸtÄ±rma</span>: <span id="lastRun">-</span></p>
            </div>
        </div>

        <!-- Filters Tab -->
        <div class="tab-content" id="filters-tab">
            <!-- Keywords Section -->
            <div class="filter-section">
                <h3>ğŸ” <span data-i18n="filters.keywordsTitle">Anahtar Kelimeler</span></h3>
                <p class="filter-desc" data-i18n="filters.keywordsDesc">Bu kelimeleri iÃ§eren kullanÄ±cÄ±lar atlanacak</p>
                <div class="input-group">
                    <input type="text" id="keywordInput" data-i18n-placeholder="filters.keywordsPlaceholder" placeholder="Ã–rn: crypto, nft, bot">
                    <button id="addKeywordBtn" class="btn btn-primary" data-i18n="buttons.add">Ekle</button>
                </div>
                <ul class="filter-list" id="keywordList"></ul>
            </div>

            <!-- Whitelist Section -->
            <div class="filter-section">
                <h3>â­ <span data-i18n="filters.whitelistTitle">Whitelist</span></h3>
                <p class="filter-desc" data-i18n="filters.whitelistDesc">Bu kullanÄ±cÄ±lar asla takipten Ã§Ä±karÄ±lmayacak</p>
                <div class="input-group">
                    <input type="text" id="whitelistInput" data-i18n-placeholder="filters.whitelistPlaceholder" placeholder="@kullaniciadi">
                    <button id="addWhitelistBtn" class="btn btn-primary" data-i18n="buttons.add">Ekle</button>
                </div>
                <ul class="filter-list" id="whitelistList"></ul>
            </div>
        </div>

        <!-- Stats Tab -->
        <div class="tab-content" id="stats-tab">
            <div class="stats-section">
                <h3>ğŸ“Š <span data-i18n="statsTab.last30Days">Son 30 GÃ¼n</span></h3>
                <div class="ct-chart" id="chart"></div>
                <button id="exportCsvBtn" class="btn btn-primary">ğŸ“¥ <span data-i18n="buttons.exportCsv">CSV Ä°ndir</span></button>
            </div>
        </div>

        <!-- Footer Warning -->
        <div class="warning">
            <p><strong>âš ï¸ <span data-i18n="warning.title">UyarÄ±:</span></strong></p>
            <ul>
                <li data-i18n="warning.item1">Sadece "Following" sayfasÄ±nda Ã§alÄ±ÅŸÄ±r</li>
                <li data-i18n="warning.item2">2-5 saniye gecikme ile Ã§alÄ±ÅŸÄ±r</li>
                <li data-i18n="warning.item3">Ä°lk 50 kiÅŸide durup onay ister</li>
                <li data-i18n="warning.item4">24 saatte maksimum 100 kiÅŸi limiti</li>
                <li data-i18n="warning.item5">24 saat sonra limit otomatik sÄ±fÄ±rlanÄ±r</li>
            </ul>
        </div>
    </div>

    <script src="lib/chartist.min.js"></script>
    <script src="i18n.js"></script>
    <script src="popup.js"></script>
</body>

</html>
