<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Twitter Auto Unfollow</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="lib/chartist.min.css">
</head>
<body>
  <div class="container">
    <!-- Header with Dark Mode Toggle -->
    <div class="header">
      <div class="header-content">
        <h1>ğŸ”´ Twitter Auto Unfollow</h1>
        <button id="themeToggle" class="theme-toggle" title="Dark Mode">ğŸŒ™</button>
      </div>
      <p class="subtitle">Seni takip etmeyenleri otomatik bul ve takipten Ã§Ä±k</p>
    </div>

    <!-- Tabs -->
    <div class="tabs">
      <button class="tab-btn active" data-tab="main">Ana</button>
      <button class="tab-btn" data-tab="filters">Filtreler</button>
      <button class="tab-btn" data-tab="stats">Ä°statistikler</button>
    </div>

    <!-- Main Tab -->
    <div class="tab-content active" id="main-tab">
      <!-- Stats Cards -->
      <div class="stats">
        <div class="stat-item">
          <span class="stat-label">Oturum</span>
          <span class="stat-value" id="sessionCount">0/100</span>
        </div>
        <div class="stat-item">
          <span class="stat-label">Toplam</span>
          <span class="stat-value" id="totalCount">0</span>
        </div>
      </div>

      <!-- Status Bar -->
      <div class="status-bar">
        <span class="status-indicator" id="statusIndicator">â—</span>
        <span id="statusText">HazÄ±r</span>
      </div>

      <!-- Detailed Progress -->
      <div class="progress-details" id="progressDetails" style="display: none;">
        <div class="progress-bar-container">
          <div class="progress-bar" id="progressBar"></div>
        </div>
        <div class="progress-stats" id="progressStats">
          0/100 (0%) â€¢ 0 users/min â€¢ --
        </div>
      </div>

      <!-- Alerts -->
      <div id="testModeAlert" class="alert alert-warning" style="display: none;">
        <p><strong>âš ï¸ Batch TamamlandÄ±</strong></p>
        <p>50 kiÅŸi takipten Ã§Ä±karÄ±ldÄ±. Devam etmek istiyor musunuz?</p>
        <button id="continueBtn" class="btn btn-success">âœ“ Devam Et (50 kiÅŸi daha)</button>
      </div>

      <div id="rateLimitAlert" class="alert alert-danger" style="display: none;">
        <p><strong>ğŸš« Rate Limit!</strong></p>
        <p id="rateLimitText">Twitter tarafÄ±ndan hÄ±z sÄ±nÄ±rÄ±na takÄ±ldÄ±nÄ±z.</p>
        <p id="rateLimitCountdown" style="font-weight: bold;">--</p>
      </div>

      <div id="limitReachedAlert" class="alert alert-info" style="display: none;">
        <p><strong>âœ“ Limit Doldu</strong></p>
        <p>Oturum limiti (100) doldu. 24 saat sonra tekrar deneyin.</p>
      </div>

      <!-- Controls -->
      <div class="control-row">
        <label class="checkbox-container">
          <input type="checkbox" id="dryRunMode">
          <span>Dry Run Mode (Test)</span>
        </label>
      </div>

      <div class="controls">
        <button id="startBtn" class="btn btn-primary">â–¶ BaÅŸlat</button>
        <button id="stopBtn" class="btn btn-danger" style="display: none;">â–  Durdur</button>
      </div>

      <div class="control-row">
        <button id="undoBtn" class="btn btn-secondary" style="display: none;">â†¶ Geri Al (<span id="undoCount">0</span>)</button>
        <button id="resetBtn" class="btn btn-secondary">ğŸ”„ SÄ±fÄ±rla</button>
      </div>

      <!-- Real-time User List -->
      <div class="user-list-container">
        <h3>Ä°ÅŸlenen KullanÄ±cÄ±lar</h3>
        <ul class="user-list" id="userList"></ul>
      </div>

      <div class="info">
        <p class="last-run">Son Ã§alÄ±ÅŸtÄ±rma: <span id="lastRun">-</span></p>
      </div>
    </div>

    <!-- Filters Tab -->
    <div class="tab-content" id="filters-tab">
      <!-- Keywords Section -->
      <div class="filter-section">
        <h3>ğŸ” Anahtar Kelimeler</h3>
        <p class="filter-desc">Bu kelimeleri iÃ§eren kullanÄ±cÄ±lar atlanacak</p>
        <div class="input-group">
          <input type="text" id="keywordInput" placeholder="Ã–rn: crypto, nft, bot">
          <button id="addKeywordBtn" class="btn btn-primary">Ekle</button>
        </div>
        <ul class="filter-list" id="keywordList"></ul>
      </div>

      <!-- Whitelist Section -->
      <div class="filter-section">
        <h3>â­ Whitelist</h3>
        <p class="filter-desc">Bu kullanÄ±cÄ±lar asla takipten Ã§Ä±karÄ±lmayacak</p>
        <div class="input-group">
          <input type="text" id="whitelistInput" placeholder="@kullaniciadi">
          <button id="addWhitelistBtn" class="btn btn-primary">Ekle</button>
        </div>
        <ul class="filter-list" id="whitelistList"></ul>
      </div>
    </div>

    <!-- Stats Tab -->
    <div class="tab-content" id="stats-tab">
      <div class="stats-section">
        <h3>ğŸ“Š Son 30 GÃ¼n</h3>
        <div class="ct-chart" id="chart"></div>
        <button id="exportCsvBtn" class="btn btn-primary">ğŸ“¥ CSV Ä°ndir</button>
      </div>
    </div>

    <!-- Footer Warning -->
    <div class="warning">
      <p><strong>âš ï¸ UyarÄ±:</strong></p>
      <ul>
        <li>Sadece "Following" sayfasÄ±nda Ã§alÄ±ÅŸÄ±r</li>
        <li>2-5 saniye gecikme ile Ã§alÄ±ÅŸÄ±r</li>
        <li>Ä°lk 50'den sonra onay ister</li>
        <li>Oturum baÅŸÄ±na max 100 kiÅŸi</li>
        <li>24 saatte otomatik sÄ±fÄ±rlanÄ±r</li>
      </ul>
    </div>
  </div>

  <script src="lib/chartist.min.js"></script>
  <script src="popup.js"></script>
</body>
</html>
